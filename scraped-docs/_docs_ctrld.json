{
  "content": {
    "success": true,
    "markdown": "In order to facilitate simple onboarding, on any type of device (with a keyboard) we've developed an open source command line daemon, known as **ctrld**. It can be used to configure a Control D [Device](https://docs.controld.com/docs/devices) with a single command, and it can do a whole bunch more.\n\n# Why Use This   [Skip link to Why Use This](https://docs.controld.com/docs/ctrld\\#why-use-this)\n\nYou may want to use this utility in the following situations:\n\n- You operate a network, and have to use Legacy DNS for all your LAN clients\n- Want to use Secure DNS protocols on a device that does not support them\n- Want to create an advanced DNS routing policies or leverage split horizon DNS\n- Want to see all your [LAN clients](https://docs.controld.com/docs/device-clients), and create DNS policies for all of them via a web GUI\n- Want to deploy Secure DNS on a roaming client\n\n# Quick Install   [Skip link to Quick Install](https://docs.controld.com/docs/ctrld\\#quick-install)\n\nThe simplest way to start using `ctrld` is to run the installer. Open an terminal and execute this command as admin/system user on any Linux or UNIX-like OS (including MacOS):\n\nbash\n\n```rdmd-code lang-text theme-light\nsh -c 'sh -c \"$(curl -sL https://api.controld.com/dl)\" -s RESOLVER_ID_HERE forced'\n\n```\n\nTemplate `RESOLVER_ID_HERE` with your actual Resolver ID from the relevant Device.\n\nIf you'd like to use the same method on Windows, run this in Powershell:\n\ncmd\n\n```rdmd-code lang-Text theme-light\n(Invoke-WebRequest -Uri 'https://api.controld.com/dl/ps1' -UseBasicParsing).Content | Set-Content \"$env:TEMPctrld_install.ps1\"; Invoke-Expression \"& '$env:TEMPctrld_install.ps1' 'RESOLVER_ID_HERE' 'forced'\"\n\n```\n\nThe above scripts will do the following:\n\n- Detect your OS and architecture\n- Download the appropriate binary\n- Make it executable\n- Register a system service and start the DNS server\n- Modify the DNS settings on your network adapter to use the local server\n\nIn order to skip the interactive confirmation (y/n), simply append `forced` flag to the installer command. ie. `-s RESOLVER_ID_HERE forced` for MacOS and Linux, and `RESOLVER_ID_HERE forced` for Windows + PowerShell. This will perform the installation without any user confirmation or input.\n\n# Download Manually   [Skip link to Download Manually](https://docs.controld.com/docs/ctrld\\#download-manually)\n\n[Head over to Github](https://github.com/Control-D-Inc/ctrld), and download the version of the daemon for your platform. You can find builds for most operating systems in the [Releases](https://github.com/Control-D-Inc/ctrld/releases) section.\n\nCurrently supported operating systems are:\n\n- Windows (386, AMD64 and ARM) - use the `_windows` builds\n- Mac (AMD64 and ARM) - use the `_darwin` builds\n- Linux (386, AMD64, ARM, MIPS) - use the `_linux` builds\n- FreeBSD (386, AMD64, ARM) - use the `_freebsd` builds\n\n![](https://files.readme.io/4bb9d1b-image.png)\n\n# Get your resolver ID   [Skip link to Get your resolver ID](https://docs.controld.com/docs/ctrld\\#get-your-resolver-id)\n\nWhen you create a Control D Device, you are issued a set of DNS resolvers. On the screen that shows you your resolvers, you will see \"Resolver ID\" at the top.\n\n# Windows   [Skip link to Windows](https://docs.controld.com/docs/ctrld\\#windows)\n\n## Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service)\n\nOpen Administrative command line, and navigate to the folder where the .exe file is extracted, and run this command.\n\n```rdmd-code lang- theme-light\nctrld.exe start --cd RESOLVER_ID_HERE\n\n```\n\nThis command will do the following:\n\n- Fetch your Device's configuration\n- Render a configuration file and store it in the HOME directory\n- Spawn a DNS listener and start a system service that will always run\n- Configure the DNS on the default interface to use the local DNS proxy server\n\n## Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service)\n\nIn order to **temporarily stop** the Control D service, execute the following from Administrative command line:\n\n```rdmd-code lang- theme-light\nctrld.exe stop\n\n```\n\n> ## ðŸš§  Service is still installed\n>\n> The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.\n\n## Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service)\n\nIn order to permanently uninstall `ctrld` run this command.\n\n```rdmd-code lang- theme-light\nctrld.exe uninstall\n\n```\n\n`ctrld` binary will remain on disk and can be used at a later time. To remove all files from disk, append `--cleanup` flag to the uninstall command.\n\n# MacOS   [Skip link to MacOS](https://docs.controld.com/docs/ctrld\\#macos)\n\n## Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service-1)\n\nOpen terminal, navigate to the folder where the binary file is extracted, and run this command.\n\n```rdmd-code lang- theme-light\nsudo ctrld start --cd RESOLVER_ID_HERE\n\n```\n\nThis command will do the following:\n\n- Fetch your Device's configuration\n- Render a configuration file and store it in the HOME directory\n- Spawn a DNS listener and start a system service that will always run\n- Configure the DNS on the default interface to use the local DNS proxy server\n\n## Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service-1)\n\nIn order to **temporarily stop** the Control D service, execute the following command with admin/sudo privilege:\n\n```rdmd-code lang- theme-light\nsudo ctrld stop\n\n```\n\n> ## ðŸš§  Service is still installed\n>\n> The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.\n\n## Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service-1)\n\nIn order to permanently uninstall `ctrld` run this commands\n\n```rdmd-code lang- theme-light\nsudo ctrld uninstall\n\n```\n\n`ctrld` binary will remain on disk and can be used at a later time. To remove all files from disk, append `--cleanup` flag to the uninstall command.\n\n# Linux   [Skip link to Linux](https://docs.controld.com/docs/ctrld\\#linux)\n\n## Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service-2)\n\nOpen terminal, navigate to the folder where the binary file is extracted, and run this command.\n\n```rdmd-code lang- theme-light\nsudo ctrld start --cd RESOLVER_ID_HERE\n\n```\n\nThis command will do the following:\n\n- Fetch your Device's configuration\n- Render a configuration file and store it in the HOME directory\n- Spawn a DNS listener and start a system service that will always run\n- Configure the DNS on the default interface to use the local DNS proxy server\n\n## Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service-2)\n\nIn order to **temporarily stop** the Control D service, execute the following command with admin/sudo privilege:\n\n```rdmd-code lang- theme-light\nsudo ctrld stop\n\n```\n\n> ## ðŸš§  Service is still installed\n>\n> The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.\n\n## Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service-2)\n\nIn order to permanently uninstall `ctrld` run this command.\n\n```rdmd-code lang- theme-light\nsudo ctrld uninstall\n\n```\n\nIf you are running `ctrld` on a router, you may need to run the above command from the directory where you installed it. `sudo` may be optional if you're running it as a root user.\n\n`ctrld` binary will remain on disk and can be used at a later time. To remove all files from disk, append `--cleanup` flag to the uninstall command.\n\n# Routers   [Skip link to Routers](https://docs.controld.com/docs/ctrld\\#routers)\n\n`ctrld` currently supports the following routers and firmware:\n\n- ASUS Merlin\n- DD-WRT\n- Firewalla\n- Fresh Tomato\n- GL.iNet\n- OpenWRT\n- pfSense / OPNsense\n- Synology\n- Ubiquiti UDM, UDR, EdgeOS\n\nAll you have to do is SSH into your router and follow the **Quick Install** instructions at the top of this page. With a single command, you can start using Control D in literally seconds.\n\n# Remote Uninstallation   [Skip link to Remote Uninstallation](https://docs.controld.com/docs/ctrld\\#remote-uninstallation)\n\nSimply delete the associated Device from the web control panel. The DNS daemon will self-uninstall if you're using v1.3.9 or newer.\n\n# Upgrade   [Skip link to Upgrade](https://docs.controld.com/docs/ctrld\\#upgrade)\n\nIn order to upgrade the `ctrld` service to the latest version, there are two ways to do it.\n\n1. Simply re-run the installer command without any args. Use this method if you're running v1.3.7 or earlier.\n2. Run `ctrld upgrade` command. This is the recommended method.\n\n## Windows   [Skip link to Windows](https://docs.controld.com/docs/ctrld\\#windows-1)\n\nRun this batch command in admin cmd (not Powershell). Use this if you're running v1.3.7 or earlier.\n\n```rdmd-code lang- theme-light\npowershell -Command \"(Invoke-WebRequest -Uri 'https://api.controld.com/dl' -UseBasicParsing).Content | Set-Content '%TEMP%\\ctrld_install.bat'\" && %TEMP%\\ctrld_install.bat\n\n```\n\nor\n\n```rdmd-code lang- theme-light\nctrld upgrade\n\n```\n\n## Linux or Mac   [Skip link to Linux or Mac](https://docs.controld.com/docs/ctrld\\#linux-or-mac)\n\nRun this bash command in Terminal as root user.\n\nbash\n\n```rdmd-code lang-Text theme-light\nsh -c 'sh -c \"$(curl -sL https://api.controld.com/dl)\"'\n\n```\n\nor\n\n```rdmd-code lang- theme-light\nctrld upgrade\n\n```\n\n## Update Channels   [Skip link to Update Channels](https://docs.controld.com/docs/ctrld\\#update-channels)\n\nThere are 2 update channels:\n\n- `prod` \\- stable production release (default)\n- `dev` \\- beta release that is ahead of production\n\nTo switch channels, append the channel name to the upgrade command:\n\n```rdmd-code lang- theme-light\nC:\\Windows\\system32>ctrld upgrade prod\nJul 22 13:21:56.000 NTC Upgrade successful - v1.3.7\n\nC:\\Windows\\system32>ctrld upgrade dev\nJul 22 13:22:54.000 NTC Upgrade successful - dev-429123b\n\n```\n\n# Do More   [Skip link to Do More](https://docs.controld.com/docs/ctrld\\#do-more)\n\nThis is the most basic use of the `ctrld` daemon. It can do a whole lot more, especially if you run it on a router. What can you do with it? Here are some use cases:\n\n1. Create unique DNS routing policies based on source IP, device hostname or MAC address\n2. Split horizon DNS with wildcard rules\n3. Use Secure DNS protocols even for devices that don't support them (UDP53-to-DOH)\n4. Run multiple DNS listeners, with unique policies and variable upstreams\n5. Cache DNS records locally\n\nFor a full feature set, please [check out the README](https://github.com/Control-D-Inc/ctrld#readme).\n\n## Example Configs   [Skip link to Example Configs](https://docs.controld.com/docs/ctrld\\#example-configs)\n\nWant to craft your own config? No problem, [check out some examples](https://github.com/Control-D-Inc/ctrld/wiki/Example-Configurations).\n\n## Troubleshooting   [Skip link to Troubleshooting](https://docs.controld.com/docs/ctrld\\#troubleshooting)\n\nSomething not working? [Check out the troubleshooting guide](https://github.com/Control-D-Inc/ctrld/wiki/Troubleshooting-Guide).\n\nUpdatedabout 1 month ago\n\n* * *",
    "metadata": {
      "ogTitle": "Command Line Daemon",
      "twitter:title": "Command Line Daemon",
      "language": "en",
      "viewport": "width=device-width, initial-scale=1.0",
      "readme-subdomain": "controld",
      "og:site_name": "Control D",
      "readme-deploy": "5.329.0",
      "readme-version": "1.0",
      "og:title": "Command Line Daemon",
      "title": "Command Line Daemon",
      "twitter:description": "DNS proxy server you can run on a router, or any other device.",
      "ogDescription": "DNS proxy server you can run on a router, or any other device.",
      "ogImage": "https://files.readme.io/45785f4-brandmark-blue.svg",
      "og:image": "https://files.readme.io/45785f4-brandmark-blue.svg",
      "og:description": "DNS proxy server you can run on a router, or any other device.",
      "twitter:image": "https://files.readme.io/45785f4-brandmark-blue.svg",
      "favicon": "https://files.readme.io/a0e3b99-small-SymbolDark.png",
      "twitter:card": "summary_large_image",
      "ogSiteName": "Control D",
      "description": "DNS proxy server you can run on a router, or any other device.",
      "loadedProject": "controld",
      "scrapeId": "f73ec25d-274a-4a19-b7f2-566a26742234",
      "sourceURL": "https://docs.controld.com/docs/ctrld",
      "url": "https://docs.controld.com/docs/ctrld",
      "statusCode": 200
    },
    "html": "<!DOCTYPE html><html lang=\"en\" style=\"\" data-color-mode=\"null\" class=\" useReactApp  \"><body class=\"body-none theme-solid header-solid header-bg-size-auto header-bg-pos-tl header-overlay-triangles reference-layout-row lumosity-dark \"><div id=\"ssr-top\"></div><div id=\"ssr-main\"><div class=\"App ThemeContext ThemeContext_dark \" style=\"--color-primary:#111111;--color-primary-inverse:#fff;--color-primary-alt:#000000;--color-primary-darken-10:#000000;--color-primary-darken-20:#000000;--color-primary-alpha-25:rgba(17, 17, 17, 0.25);--color-link-primary:#6e34e9;--color-link-primary-darken-5:#5e1de6;--color-link-primary-darken-10:#5317d3;--color-link-primary-darken-20:#4112a5;--color-link-primary-alpha-50:rgba(110, 52, 233, 0.5);--color-link-primary-alpha-25:rgba(110, 52, 233, 0.25);--color-link-background:rgba(110, 52, 233, 0.09);--color-link-text:#fff;--color-login-link:#018ef5;--color-login-link-text:#fff;--color-login-link-darken-10:#0171c2;--color-login-link-primary-alpha-50:rgba(1, 142, 245, 0.5)\"><main class=\"rm-Guides\"><div class=\"rm-Container rm-Container_flex\"><article class=\"rm-Article \" id=\"content\"><div class=\"grid-container-fluid\" id=\"content-container\"><section class=\"content-body grid-75\"><div dehydrated=\"<p>In order to facilitate simple onboarding, on any type of device (with a keyboard) we&amp;#x27;ve developed an open source  command line daemon, known as <strong>ctrld</strong>. It can be used to configure a Control D <a href=&quot;/docs/devices&quot; target=&quot;&quot; title=&quot;&quot; class=&quot;doc-link&quot; data-sidebar=&quot;devices&quot;>Device</a> with a single command, and it can do a whole bunch more. </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;why-use-this&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-why-use-this&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Why Use This</div><a aria-label=&quot;Skip link to Why Use This&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#why-use-this&quot;></a></h1>\n<p>You may want to use this utility in the following situations:</p>\n<ul>\n<li>You operate a network, and have to use Legacy DNS for all your LAN clients </li>\n<li>Want to use Secure DNS protocols on a device that does not support them</li>\n<li>Want to create an advanced DNS routing policies or leverage split horizon DNS </li>\n<li>Want to see all your <a href=&quot;/docs/device-clients&quot; target=&quot;&quot; title=&quot;&quot; class=&quot;doc-link&quot; data-sidebar=&quot;device-clients&quot;>LAN clients</a>, and create DNS policies for all of them via a web GUI</li>\n<li>Want to deploy Secure DNS on a roaming client </li>\n</ul>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;quick-install&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-quick-install&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Quick Install</div><a aria-label=&quot;Skip link to Quick Install&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#quick-install&quot;></a></h1>\n<p>The simplest way to start using <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> is to run the installer. Open an terminal and execute this command as admin/system user on any Linux or UNIX-like OS (including MacOS):</p>\n<div class=&quot;CodeTabs CodeTabs_initial theme-light&quot;><div class=&quot;CodeTabs-toolbar&quot; role=&quot;tablist&quot;><button aria-selected=&quot;true&quot; class=&quot;CodeTabs_active&quot; role=&quot;tab&quot; type=&quot;button&quot;>bash</button></div><div class=&quot;CodeTabs-inner&quot; role=&quot;tabpanel&quot;><pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang-text theme-light&quot; data-lang=&quot;text&quot; name=&quot;bash&quot; tabindex=&quot;0&quot;>sh -c &amp;#x27;sh -c &amp;quot;$(curl -sL https://api.controld.com/dl)&amp;quot; -s RESOLVER_ID_HERE forced&amp;#x27;\n</code></pre></div></div>\n<p> Template <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>RESOLVER_ID_HERE</code> with your actual Resolver ID from the relevant Device. </p>\n<p>If you&amp;#x27;d like to use the same method on Windows, run this in Powershell:</p>\n<div class=&quot;CodeTabs CodeTabs_initial theme-light&quot;><div class=&quot;CodeTabs-toolbar&quot; role=&quot;tablist&quot;><button aria-selected=&quot;true&quot; class=&quot;CodeTabs_active&quot; role=&quot;tab&quot; type=&quot;button&quot;>cmd</button></div><div class=&quot;CodeTabs-inner&quot; role=&quot;tabpanel&quot;><pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang-Text theme-light&quot; data-lang=&quot;Text&quot; name=&quot;cmd&quot; tabindex=&quot;0&quot;>(Invoke-WebRequest -Uri &amp;#x27;https://api.controld.com/dl/ps1&amp;#x27; -UseBasicParsing).Content | Set-Content &amp;quot;$env:TEMPctrld_install.ps1&amp;quot;; Invoke-Expression &amp;quot;&amp;amp; &amp;#x27;$env:TEMPctrld_install.ps1&amp;#x27; &amp;#x27;RESOLVER_ID_HERE&amp;#x27; &amp;#x27;forced&amp;#x27;&amp;quot;\n</code></pre></div></div>\n<p>The above scripts will do the following:</p>\n<ul>\n<li>Detect your OS and architecture </li>\n<li>Download the appropriate binary </li>\n<li>Make it executable</li>\n<li>Register a system service and start the DNS server</li>\n<li>Modify the DNS settings on your network adapter to use the local server</li>\n</ul>\n<p>In order to skip the interactive confirmation (y/n), simply append <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>forced</code> flag to the installer command. ie. <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>-s RESOLVER_ID_HERE forced</code> for MacOS and Linux, and <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>RESOLVER_ID_HERE forced</code> for Windows + PowerShell. This will perform the installation without any user confirmation or input.  </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;download-manually&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-download-manually&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Download Manually</div><a aria-label=&quot;Skip link to Download Manually&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#download-manually&quot;></a></h1>\n<p><a href=&quot;https://github.com/Control-D-Inc/ctrld&quot; target=&quot;&quot; title=&quot;&quot;>Head over to Github</a>, and download the version of the daemon for your platform. You can find builds for most operating systems in the <a href=&quot;https://github.com/Control-D-Inc/ctrld/releases&quot; target=&quot;&quot; title=&quot;&quot;>Releases</a> section. </p>\n<p>Currently supported operating systems are:</p>\n<ul>\n<li>Windows (386, AMD64 and ARM) - use the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>_windows</code> builds</li>\n<li>Mac (AMD64 and ARM) - use the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>_darwin</code> builds </li>\n<li>Linux (386, AMD64, ARM, MIPS) - use the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>_linux</code> builds</li>\n<li>FreeBSD (386, AMD64, ARM) - use the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>_freebsd</code> builds </li>\n</ul>\n<p><span aria-label=&quot;&quot; class=&quot;img lightbox closed&quot; role=&quot;button&quot; tabindex=&quot;0&quot;><span class=&quot;lightbox-inner&quot;><img alt=&quot;&quot; loading=&quot;lazy&quot; src=&quot;https://files.readme.io/4bb9d1b-image.png&quot; align=&quot;&quot; caption=&quot;&quot; height=&quot;auto&quot; title=&quot;&quot; width=&quot;auto&quot;/></span></span></p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;get-your-resolver-id&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-get-your-resolver-id&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Get your resolver ID</div><a aria-label=&quot;Skip link to Get your resolver ID&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#get-your-resolver-id&quot;></a></h1>\n<p>When you create a Control D Device, you are issued a set of DNS resolvers. On the screen that shows you your resolvers, you will see &amp;quot;Resolver ID&amp;quot; at the top. </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;windows&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-windows&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Windows</div><a aria-label=&quot;Skip link to Windows&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#windows&quot;></a></h1>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;start-service&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-start-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Start Service</div><a aria-label=&quot;Skip link to Start Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#start-service&quot;></a></h2>\n<p>Open Administrative command line, and navigate to the folder where the .exe file is extracted, and run this command. </p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld.exe start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device&amp;#x27;s configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;stop-service&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-stop-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Stop Service</div><a aria-label=&quot;Skip link to Stop Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#stop-service&quot;></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following from Administrative command line:</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld.exe stop\n</code></pre>\n<blockquote class=&quot;callout callout_warn&quot; theme=&quot;ðŸš§&quot;><h2 class=&quot;callout-heading&quot;><span class=&quot;callout-icon&quot;>ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;uninstall-service&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-uninstall-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Uninstall Service</div><a aria-label=&quot;Skip link to Uninstall Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#uninstall-service&quot;></a></h2>\n<p>In order to permanently uninstall <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> run this command. </p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld.exe uninstall\n</code></pre>\n<p><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>--cleanup</code> flag to the uninstall command. </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;macos&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-mac-os&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>MacOS</div><a aria-label=&quot;Skip link to MacOS&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#macos&quot;></a></h1>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;start-service-1&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-start-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Start Service</div><a aria-label=&quot;Skip link to Start Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#start-service-1&quot;></a></h2>\n<p>Open terminal, navigate to the folder where the binary file is extracted, and run this command. </p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device&amp;#x27;s configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;stop-service-1&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-stop-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Stop Service</div><a aria-label=&quot;Skip link to Stop Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#stop-service-1&quot;></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following command with admin/sudo privilege:</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld stop\n</code></pre>\n<blockquote class=&quot;callout callout_warn&quot; theme=&quot;ðŸš§&quot;><h2 class=&quot;callout-heading&quot;><span class=&quot;callout-icon&quot;>ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;uninstall-service-1&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-uninstall-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Uninstall Service</div><a aria-label=&quot;Skip link to Uninstall Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#uninstall-service-1&quot;></a></h2>\n<p>In order to permanently uninstall <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> run this commands</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld uninstall\n</code></pre>\n<p><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>--cleanup</code> flag to the uninstall command.</p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;linux&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-linux&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Linux</div><a aria-label=&quot;Skip link to Linux&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#linux&quot;></a></h1>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;start-service-2&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-start-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Start Service</div><a aria-label=&quot;Skip link to Start Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#start-service-2&quot;></a></h2>\n<p>Open terminal, navigate to the folder where the binary file is extracted, and run this command. </p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device&amp;#x27;s configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;stop-service-2&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-stop-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Stop Service</div><a aria-label=&quot;Skip link to Stop Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#stop-service-2&quot;></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following command with admin/sudo privilege:</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld stop\n</code></pre>\n<blockquote class=&quot;callout callout_warn&quot; theme=&quot;ðŸš§&quot;><h2 class=&quot;callout-heading&quot;><span class=&quot;callout-icon&quot;>ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;uninstall-service-2&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-uninstall-service&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Uninstall Service</div><a aria-label=&quot;Skip link to Uninstall Service&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#uninstall-service-2&quot;></a></h2>\n<p>In order to permanently uninstall <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> run this command.</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo ctrld uninstall\n</code></pre>\n<p>If you are running <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> on a router, you may need to run the above command from the directory where you installed it. <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>sudo</code> may be optional if you&amp;#x27;re running it as a root user. </p>\n<p><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>--cleanup</code> flag to the uninstall command.</p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;routers&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-routers&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Routers</div><a aria-label=&quot;Skip link to Routers&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#routers&quot;></a></h1>\n<p><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> currently supports the following routers and firmware:</p>\n<ul>\n<li>ASUS Merlin</li>\n<li>DD-WRT</li>\n<li>Firewalla</li>\n<li>Fresh Tomato</li>\n<li>GL.iNet</li>\n<li>OpenWRT</li>\n<li>pfSense / OPNsense</li>\n<li>Synology</li>\n<li>Ubiquiti UDM, UDR, EdgeOS</li>\n</ul>\n<p>All you have to do is SSH into your router and follow the <strong>Quick Install</strong> instructions at the top of this page. With a single command, you can start using Control D in literally seconds. </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;remote-uninstallation&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-remote-uninstallation&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Remote Uninstallation</div><a aria-label=&quot;Skip link to Remote Uninstallation&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#remote-uninstallation&quot;></a></h1>\n<p>Simply delete the associated Device from the web control panel. The DNS daemon will self-uninstall if you&amp;#x27;re using v1.3.9 or newer. </p>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;upgrade&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-upgrade&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Upgrade</div><a aria-label=&quot;Skip link to Upgrade&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#upgrade&quot;></a></h1>\n<p>In order to upgrade the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> service to the latest version, there are two ways to do it. </p>\n<ol>\n<li>Simply re-run the installer command without any args. Use this method if you&amp;#x27;re running v1.3.7 or earlier. </li>\n<li>Run <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld upgrade</code> command. This is the recommended method. </li>\n</ol>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;windows-1&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-windows&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Windows</div><a aria-label=&quot;Skip link to Windows&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#windows-1&quot;></a></h2>\n<p>Run this batch command in admin cmd (not Powershell). Use this if you&amp;#x27;re running v1.3.7 or earlier. </p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>powershell -Command &amp;quot;(Invoke-WebRequest -Uri &amp;#x27;https://api.controld.com/dl&amp;#x27; -UseBasicParsing).Content | Set-Content &amp;#x27;%TEMP%\\ctrld_install.bat&amp;#x27;&amp;quot; &amp;amp;&amp;amp; %TEMP%\\ctrld_install.bat\n</code></pre>\n<p>or</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld upgrade\n</code></pre>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;linux-or-mac&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-linux-or-mac&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Linux or Mac</div><a aria-label=&quot;Skip link to Linux or Mac&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#linux-or-mac&quot;></a></h2>\n<p>Run this bash command in Terminal as root user.  </p>\n<div class=&quot;CodeTabs CodeTabs_initial theme-light&quot;><div class=&quot;CodeTabs-toolbar&quot; role=&quot;tablist&quot;><button aria-selected=&quot;true&quot; class=&quot;CodeTabs_active&quot; role=&quot;tab&quot; type=&quot;button&quot;>bash</button></div><div class=&quot;CodeTabs-inner&quot; role=&quot;tabpanel&quot;><pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang-Text theme-light&quot; data-lang=&quot;Text&quot; name=&quot;bash&quot; tabindex=&quot;0&quot;>sh -c &amp;#x27;sh -c &amp;quot;$(curl -sL https://api.controld.com/dl)&amp;quot;&amp;#x27;\n</code></pre></div></div>\n<p>or</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld upgrade\n</code></pre>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;update-channels&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-update-channels&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Update Channels</div><a aria-label=&quot;Skip link to Update Channels&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#update-channels&quot;></a></h2>\n<p>There are 2 update channels:</p>\n<ul>\n<li><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>prod</code> - stable production release (default)</li>\n<li><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>dev</code> - beta release that is ahead of production </li>\n</ul>\n<p>To switch channels, append the channel name to the upgrade command:</p>\n<pre><button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>C:\\Windows\\system32&amp;gt;ctrld upgrade prod\nJul 22 13:21:56.000 NTC Upgrade successful - v1.3.7\n\n\nC:\\Windows\\system32&amp;gt;ctrld upgrade dev\nJul 22 13:22:54.000 NTC Upgrade successful - dev-429123b\n</code></pre>\n<h1 class=&quot;heading heading-1 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;do-more&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-do-more&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Do More</div><a aria-label=&quot;Skip link to Do More&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#do-more&quot;></a></h1>\n<p>This is the most basic use of the <button aria-label=&quot;Copy Code&quot; class=&quot;rdmd-code-copy fa&quot;></button><code class=&quot;rdmd-code lang- theme-light&quot; data-lang=&quot;&quot; name=&quot;&quot; tabindex=&quot;0&quot;>ctrld</code> daemon. It can do a whole lot more, especially if you run it on a router. What can you do with it? Here are some use cases:</p>\n<ol>\n<li>Create unique DNS routing policies based on source IP, device hostname or MAC address</li>\n<li>Split horizon DNS with wildcard rules</li>\n<li>Use Secure DNS protocols even for devices that don&amp;#x27;t support them (UDP53-to-DOH)</li>\n<li>Run multiple DNS listeners, with unique policies and variable upstreams</li>\n<li>Cache DNS records locally </li>\n</ol>\n<p>For a full feature set, please <a href=&quot;https://github.com/Control-D-Inc/ctrld#readme&quot; target=&quot;&quot; title=&quot;&quot;>check out the README</a>.</p>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;example-configs&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-example-configs&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Example Configs</div><a aria-label=&quot;Skip link to Example Configs&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#example-configs&quot;></a></h2>\n<p>Want to craft your own config? No problem, <a href=&quot;https://github.com/Control-D-Inc/ctrld/wiki/Example-Configurations&quot; target=&quot;&quot; title=&quot;&quot;>check out some examples</a>. </p>\n<h2 class=&quot;heading heading-2 header-scroll&quot; align=&quot;&quot;><div class=&quot;heading-anchor anchor waypoint&quot; id=&quot;troubleshooting&quot;></div><div class=&quot;heading-text&quot;><div id=&quot;section-troubleshooting&quot; class=&quot;heading-anchor_backwardsCompatibility&quot;></div>Troubleshooting</div><a aria-label=&quot;Skip link to Troubleshooting&quot; class=&quot;heading-anchor-icon fa fa-anchor&quot; href=&quot;#troubleshooting&quot;></a></h2>\n<p>Something not working? <a href=&quot;https://github.com/Control-D-Inc/ctrld/wiki/Troubleshooting-Guide&quot; target=&quot;&quot; title=&quot;&quot;>Check out the troubleshooting guide</a>.</p>\" style=\"margin-left:31px\" class=\"rm-Markdown markdown-body rm-Markdown markdown-body ng-non-bindable\" data-testid=\"RDMD\"><p>In order to facilitate simple onboarding, on any type of device (with a keyboard) we've developed an open source  command line daemon, known as <strong>ctrld</strong>. It can be used to configure a Control D <a target=\"_self\" href=\"https://docs.controld.com/docs/devices\">Device</a> with a single command, and it can do a whole bunch more. </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"why-use-this\"></div><div class=\"heading-text\"><div id=\"section-why-use-this\" class=\"heading-anchor_backwardsCompatibility\"></div>Why Use This</div><a aria-label=\"Skip link to Why Use This\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#why-use-this\"></a></h1>\n<p>You may want to use this utility in the following situations:</p>\n<ul>\n<li>You operate a network, and have to use Legacy DNS for all your LAN clients </li>\n<li>Want to use Secure DNS protocols on a device that does not support them</li>\n<li>Want to create an advanced DNS routing policies or leverage split horizon DNS </li>\n<li>Want to see all your <a target=\"_self\" href=\"https://docs.controld.com/docs/device-clients\">LAN clients</a>, and create DNS policies for all of them via a web GUI</li>\n<li>Want to deploy Secure DNS on a roaming client </li>\n</ul>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"quick-install\"></div><div class=\"heading-text\"><div id=\"section-quick-install\" class=\"heading-anchor_backwardsCompatibility\"></div>Quick Install</div><a aria-label=\"Skip link to Quick Install\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#quick-install\"></a></h1>\n<p>The simplest way to start using <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> is to run the installer. Open an terminal and execute this command as admin/system user on any Linux or UNIX-like OS (including MacOS):</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">bash</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"bash\" tabindex=\"0\">sh -c 'sh -c \"$(curl -sL https://api.controld.com/dl)\" -s RESOLVER_ID_HERE forced'\n</code></pre></div></div>\n<p> Template <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">RESOLVER_ID_HERE</code> with your actual Resolver ID from the relevant Device. </p>\n<p>If you'd like to use the same method on Windows, run this in Powershell:</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">cmd</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-Text theme-light\" data-lang=\"Text\" name=\"cmd\" tabindex=\"0\">(Invoke-WebRequest -Uri 'https://api.controld.com/dl/ps1' -UseBasicParsing).Content | Set-Content \"$env:TEMPctrld_install.ps1\"; Invoke-Expression \"&amp; '$env:TEMPctrld_install.ps1' 'RESOLVER_ID_HERE' 'forced'\"\n</code></pre></div></div>\n<p>The above scripts will do the following:</p>\n<ul>\n<li>Detect your OS and architecture </li>\n<li>Download the appropriate binary </li>\n<li>Make it executable</li>\n<li>Register a system service and start the DNS server</li>\n<li>Modify the DNS settings on your network adapter to use the local server</li>\n</ul>\n<p>In order to skip the interactive confirmation (y/n), simply append <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">forced</code> flag to the installer command. ie. <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">-s RESOLVER_ID_HERE forced</code> for MacOS and Linux, and <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">RESOLVER_ID_HERE forced</code> for Windows + PowerShell. This will perform the installation without any user confirmation or input.  </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"download-manually\"></div><div class=\"heading-text\"><div id=\"section-download-manually\" class=\"heading-anchor_backwardsCompatibility\"></div>Download Manually</div><a aria-label=\"Skip link to Download Manually\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#download-manually\"></a></h1>\n<p><a target=\"_self\" href=\"https://github.com/Control-D-Inc/ctrld\">Head over to Github</a>, and download the version of the daemon for your platform. You can find builds for most operating systems in the <a target=\"_self\" href=\"https://github.com/Control-D-Inc/ctrld/releases\">Releases</a> section. </p>\n<p>Currently supported operating systems are:</p>\n<ul>\n<li>Windows (386, AMD64 and ARM) - use the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">_windows</code> builds</li>\n<li>Mac (AMD64 and ARM) - use the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">_darwin</code> builds </li>\n<li>Linux (386, AMD64, ARM, MIPS) - use the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">_linux</code> builds</li>\n<li>FreeBSD (386, AMD64, ARM) - use the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">_freebsd</code> builds </li>\n</ul>\n<p><span aria-label=\"\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"\" loading=\"lazy\" src=\"https://files.readme.io/4bb9d1b-image.png\" align=\"\" caption=\"\" height=\"auto\" title=\"\" width=\"auto\"></span></span></p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"get-your-resolver-id\"></div><div class=\"heading-text\"><div id=\"section-get-your-resolver-id\" class=\"heading-anchor_backwardsCompatibility\"></div>Get your resolver ID</div><a aria-label=\"Skip link to Get your resolver ID\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#get-your-resolver-id\"></a></h1>\n<p>When you create a Control D Device, you are issued a set of DNS resolvers. On the screen that shows you your resolvers, you will see \"Resolver ID\" at the top. </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"windows\"></div><div class=\"heading-text\"><div id=\"section-windows\" class=\"heading-anchor_backwardsCompatibility\"></div>Windows</div><a aria-label=\"Skip link to Windows\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#windows\"></a></h1>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"start-service\"></div><div class=\"heading-text\"><div id=\"section-start-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Start Service</div><a aria-label=\"Skip link to Start Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#start-service\"></a></h2>\n<p>Open Administrative command line, and navigate to the folder where the .exe file is extracted, and run this command. </p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld.exe start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device's configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"stop-service\"></div><div class=\"heading-text\"><div id=\"section-stop-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Stop Service</div><a aria-label=\"Skip link to Stop Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#stop-service\"></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following from Administrative command line:</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld.exe stop\n</code></pre>\n<blockquote class=\"callout callout_warn\" theme=\"ðŸš§\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"uninstall-service\"></div><div class=\"heading-text\"><div id=\"section-uninstall-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Uninstall Service</div><a aria-label=\"Skip link to Uninstall Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#uninstall-service\"></a></h2>\n<p>In order to permanently uninstall <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> run this command. </p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld.exe uninstall\n</code></pre>\n<p><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">--cleanup</code> flag to the uninstall command. </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"macos\"></div><div class=\"heading-text\"><div id=\"section-mac-os\" class=\"heading-anchor_backwardsCompatibility\"></div>MacOS</div><a aria-label=\"Skip link to MacOS\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#macos\"></a></h1>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"start-service-1\"></div><div class=\"heading-text\"><div id=\"section-start-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Start Service</div><a aria-label=\"Skip link to Start Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#start-service-1\"></a></h2>\n<p>Open terminal, navigate to the folder where the binary file is extracted, and run this command. </p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device's configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"stop-service-1\"></div><div class=\"heading-text\"><div id=\"section-stop-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Stop Service</div><a aria-label=\"Skip link to Stop Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#stop-service-1\"></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following command with admin/sudo privilege:</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld stop\n</code></pre>\n<blockquote class=\"callout callout_warn\" theme=\"ðŸš§\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"uninstall-service-1\"></div><div class=\"heading-text\"><div id=\"section-uninstall-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Uninstall Service</div><a aria-label=\"Skip link to Uninstall Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#uninstall-service-1\"></a></h2>\n<p>In order to permanently uninstall <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> run this commands</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld uninstall\n</code></pre>\n<p><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">--cleanup</code> flag to the uninstall command.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"linux\"></div><div class=\"heading-text\"><div id=\"section-linux\" class=\"heading-anchor_backwardsCompatibility\"></div>Linux</div><a aria-label=\"Skip link to Linux\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#linux\"></a></h1>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"start-service-2\"></div><div class=\"heading-text\"><div id=\"section-start-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Start Service</div><a aria-label=\"Skip link to Start Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#start-service-2\"></a></h2>\n<p>Open terminal, navigate to the folder where the binary file is extracted, and run this command. </p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld start --cd RESOLVER_ID_HERE\n</code></pre>\n<p>This command will do the following:</p>\n<ul>\n<li>Fetch your Device's configuration</li>\n<li>Render a configuration file and store it in the HOME directory</li>\n<li>Spawn a DNS listener and start a system service that will always run</li>\n<li>Configure the DNS on the default interface to use the local DNS proxy server</li>\n</ul>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"stop-service-2\"></div><div class=\"heading-text\"><div id=\"section-stop-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Stop Service</div><a aria-label=\"Skip link to Stop Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#stop-service-2\"></a></h2>\n<p>In order to <strong>temporarily stop</strong> the Control D service, execute the following command with admin/sudo privilege:</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld stop\n</code></pre>\n<blockquote class=\"callout callout_warn\" theme=\"ðŸš§\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">ðŸš§</span><p>Service is still installed</p></h2><p>The above commands will stop the service, and unconfigure the listener it spawned from the default interface. If the system is rebooted, the original configuration will be restored automatically.</p></blockquote>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"uninstall-service-2\"></div><div class=\"heading-text\"><div id=\"section-uninstall-service\" class=\"heading-anchor_backwardsCompatibility\"></div>Uninstall Service</div><a aria-label=\"Skip link to Uninstall Service\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#uninstall-service-2\"></a></h2>\n<p>In order to permanently uninstall <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> run this command.</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo ctrld uninstall\n</code></pre>\n<p>If you are running <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> on a router, you may need to run the above command from the directory where you installed it. <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">sudo</code> may be optional if you're running it as a root user. </p>\n<p><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> binary will remain on disk and can be used at a later time. To remove all files from disk, append <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">--cleanup</code> flag to the uninstall command.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"routers\"></div><div class=\"heading-text\"><div id=\"section-routers\" class=\"heading-anchor_backwardsCompatibility\"></div>Routers</div><a aria-label=\"Skip link to Routers\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#routers\"></a></h1>\n<p><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> currently supports the following routers and firmware:</p>\n<ul>\n<li>ASUS Merlin</li>\n<li>DD-WRT</li>\n<li>Firewalla</li>\n<li>Fresh Tomato</li>\n<li>GL.iNet</li>\n<li>OpenWRT</li>\n<li>pfSense / OPNsense</li>\n<li>Synology</li>\n<li>Ubiquiti UDM, UDR, EdgeOS</li>\n</ul>\n<p>All you have to do is SSH into your router and follow the <strong>Quick Install</strong> instructions at the top of this page. With a single command, you can start using Control D in literally seconds. </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"remote-uninstallation\"></div><div class=\"heading-text\"><div id=\"section-remote-uninstallation\" class=\"heading-anchor_backwardsCompatibility\"></div>Remote Uninstallation</div><a aria-label=\"Skip link to Remote Uninstallation\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#remote-uninstallation\"></a></h1>\n<p>Simply delete the associated Device from the web control panel. The DNS daemon will self-uninstall if you're using v1.3.9 or newer. </p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"upgrade\"></div><div class=\"heading-text\"><div id=\"section-upgrade\" class=\"heading-anchor_backwardsCompatibility\"></div>Upgrade</div><a aria-label=\"Skip link to Upgrade\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#upgrade\"></a></h1>\n<p>In order to upgrade the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> service to the latest version, there are two ways to do it. </p>\n<ol>\n<li>Simply re-run the installer command without any args. Use this method if you're running v1.3.7 or earlier. </li>\n<li>Run <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld upgrade</code> command. This is the recommended method. </li>\n</ol>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"windows-1\"></div><div class=\"heading-text\"><div id=\"section-windows\" class=\"heading-anchor_backwardsCompatibility\"></div>Windows</div><a aria-label=\"Skip link to Windows\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#windows-1\"></a></h2>\n<p>Run this batch command in admin cmd (not Powershell). Use this if you're running v1.3.7 or earlier. </p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">powershell -Command \"(Invoke-WebRequest -Uri 'https://api.controld.com/dl' -UseBasicParsing).Content | Set-Content '%TEMP%\\ctrld_install.bat'\" &amp;&amp; %TEMP%\\ctrld_install.bat\n</code></pre>\n<p>or</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld upgrade\n</code></pre>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"linux-or-mac\"></div><div class=\"heading-text\"><div id=\"section-linux-or-mac\" class=\"heading-anchor_backwardsCompatibility\"></div>Linux or Mac</div><a aria-label=\"Skip link to Linux or Mac\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#linux-or-mac\"></a></h2>\n<p>Run this bash command in Terminal as root user.  </p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">bash</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-Text theme-light\" data-lang=\"Text\" name=\"bash\" tabindex=\"0\">sh -c 'sh -c \"$(curl -sL https://api.controld.com/dl)\"'\n</code></pre></div></div>\n<p>or</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld upgrade\n</code></pre>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"update-channels\"></div><div class=\"heading-text\"><div id=\"section-update-channels\" class=\"heading-anchor_backwardsCompatibility\"></div>Update Channels</div><a aria-label=\"Skip link to Update Channels\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#update-channels\"></a></h2>\n<p>There are 2 update channels:</p>\n<ul>\n<li><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">prod</code> - stable production release (default)</li>\n<li><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dev</code> - beta release that is ahead of production </li>\n</ul>\n<p>To switch channels, append the channel name to the upgrade command:</p>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">C:\\Windows\\system32&gt;ctrld upgrade prod\nJul 22 13:21:56.000 NTC Upgrade successful - v1.3.7\n\n\nC:\\Windows\\system32&gt;ctrld upgrade dev\nJul 22 13:22:54.000 NTC Upgrade successful - dev-429123b\n</code></pre>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"do-more\"></div><div class=\"heading-text\"><div id=\"section-do-more\" class=\"heading-anchor_backwardsCompatibility\"></div>Do More</div><a aria-label=\"Skip link to Do More\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#do-more\"></a></h1>\n<p>This is the most basic use of the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ctrld</code> daemon. It can do a whole lot more, especially if you run it on a router. What can you do with it? Here are some use cases:</p>\n<ol>\n<li>Create unique DNS routing policies based on source IP, device hostname or MAC address</li>\n<li>Split horizon DNS with wildcard rules</li>\n<li>Use Secure DNS protocols even for devices that don't support them (UDP53-to-DOH)</li>\n<li>Run multiple DNS listeners, with unique policies and variable upstreams</li>\n<li>Cache DNS records locally </li>\n</ol>\n<p>For a full feature set, please <a target=\"_self\" href=\"https://github.com/Control-D-Inc/ctrld#readme\">check out the README</a>.</p>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"example-configs\"></div><div class=\"heading-text\"><div id=\"section-example-configs\" class=\"heading-anchor_backwardsCompatibility\"></div>Example Configs</div><a aria-label=\"Skip link to Example Configs\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#example-configs\"></a></h2>\n<p>Want to craft your own config? No problem, <a target=\"_self\" href=\"https://github.com/Control-D-Inc/ctrld/wiki/Example-Configurations\">check out some examples</a>. </p>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"troubleshooting\"></div><div class=\"heading-text\"><div id=\"section-troubleshooting\" class=\"heading-anchor_backwardsCompatibility\"></div>Troubleshooting</div><a aria-label=\"Skip link to Troubleshooting\" class=\"heading-anchor-icon fa fa-anchor\" href=\"https://docs.controld.com/docs/ctrld#troubleshooting\"></a></h2>\n<p>Something not working? <a target=\"_self\" href=\"https://github.com/Control-D-Inc/ctrld/wiki/Troubleshooting-Guide\">Check out the troubleshooting guide</a>.</p></div><div class=\"UpdatedAt\"><p class=\"DateLine \"><i class=\"icon icon-watch\"></i>Updated<!-- --> <!-- -->about 1 month ago<!-- --> </p></div><hr class=\"NextStepsDivider\"></section><section class=\"content-toc grid-25\"></section></div><div class=\"ModalWrapper\" id=\"tutorialmodal-root\"></div></article></div></main><div class=\"ModalWrapper\" id=\"ChatGPT-modal\"></div></div></div><div class=\"ng-non-bindable\"></div><div id=\"hub-container\"><div class=\"hub-container\"><div state-container=\"\" ng-attr-id=\"{{state.current().root !== 'docs' &amp;&amp; 'react-app-content-container'}}\"><div id=\"replace-view\" ng-non-bindable=\"\"></div></div></div></div><div id=\"ssr-end\">\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n</div></body></html>"
  },
  "metadata": {
    "url": "https://docs.controld.com/docs/ctrld",
    "scrapedAt": "2025-04-12T22:11:43.551Z",
    "contentLength": {
      "markdown": 11558,
      "html": 61720
    },
    "title": "In order to facilitate simple onboarding, on any type of device (with a keyboard) we've developed an open source command line daemon, known as **ctrld**. It can be used to configure a Control D [Device](https://docs.controld.com/docs/devices) with a single command, and it can do a whole bunch more.",
    "sections": [
      "Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service)",
      "Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service)",
      "Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service)",
      "Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service-1)",
      "Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service-1)",
      "Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service-1)",
      "Start Service   [Skip link to Start Service](https://docs.controld.com/docs/ctrld\\#start-service-2)",
      "Stop Service   [Skip link to Stop Service](https://docs.controld.com/docs/ctrld\\#stop-service-2)",
      "Uninstall Service   [Skip link to Uninstall Service](https://docs.controld.com/docs/ctrld\\#uninstall-service-2)",
      "Windows   [Skip link to Windows](https://docs.controld.com/docs/ctrld\\#windows-1)",
      "Linux or Mac   [Skip link to Linux or Mac](https://docs.controld.com/docs/ctrld\\#linux-or-mac)",
      "Update Channels   [Skip link to Update Channels](https://docs.controld.com/docs/ctrld\\#update-channels)",
      "Example Configs   [Skip link to Example Configs](https://docs.controld.com/docs/ctrld\\#example-configs)",
      "Troubleshooting   [Skip link to Troubleshooting](https://docs.controld.com/docs/ctrld\\#troubleshooting)"
    ]
  }
}